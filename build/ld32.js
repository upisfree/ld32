(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;c=d={},q=j=p=h=i=o=n=null,b={},Math.randomInt=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},Math.radiansToDegrees=function(a){return a*(180/Math.PI)},Math.degreesToRadians=function(a){return a*(Math.PI/180)},Array.prototype.min=function(){return Math.min.apply(null,this)},Array.prototype.max=function(){return Math.max.apply(null,this)},Array.prototype.remove=function(a,b){var c,d;return c=this.slice((b||a)+1||this.length),this.length=null!=(d=0>a)?d:this.length+{from:a},this.push.apply(this,c)},l=function(a){return document.getElementById(a)},k=function(a){return document.getElementsByClassName(a)},m=function(a){return document.getElementsByTagName(a)},a={set:function(a,b){return p.offset=new PIXI.Point(a,b)}},f={init:function(){return j.mask=f.mask,j.addChild(f.filter)},render:function(){var a,b,c,d,e,g;for(f.mask.clear(),f.filter.clear(),e=f.lights,g=[],c=0,d=e.length;d>c;c++)b=e[c],f.mask.beginFill(16777215,1),f.mask.drawCircle(b.x,b.y,b.r),f.filter.beginFill(b.c,b.a),f.filter.drawCircle(b.x,b.y,b.r),g.push(function(){var c,d,e;for(e=[],a=c=0,d=b.r/4;d>=0?d>=c:c>=d;a=d>=0?++c:--c)f.filter.lineStyle(2,0,1-a/50),e.push(f.filter.drawCircle(b.x,b.y,b.r-2*a));return e}());return g},mask:new PIXI.Graphics,filter:new PIXI.Graphics,lights:[]},e=function(){function a(a,b,c,d,e){f.lights.push({x:a,y:b,r:c,c:d,a:e})}return a}(),d.tick=function(){},d.start=function(){var a,b;return q=new PIXI.Stage(0),p=new PIXI.WebGLRenderer(window.w,window.h),p.view.style.zIndex=1,document.body.appendChild(p.view),j=new PIXI.DisplayObjectContainer,q.addChild(j),a=PIXI.Sprite.fromImage("http://i.imgur.com/zRabOpb.gif"),a.width=window.w,a.height=window.h,a.position.x=0,a.position.y=0,j.addChild(a),b=PIXI.Sprite.fromImage("http://i.imgur.com/6HA7HJ6.png"),b.width=200,b.height=250,b.position.x=window.w/2-b.width/2,b.position.y=window.h-b.height,j.addChild(b),f.init(),new e(100,100,100,16776960,.2),requestAnimFrame(g)},window.ontouchmove=function(a){return a.preventDefault()},window.w=window.innerWidth,window.h=window.innerHeight,g=function(){return requestAnimFrame(g),f.render(),d.tick(),p.render(q)},d.start()}).call(this);